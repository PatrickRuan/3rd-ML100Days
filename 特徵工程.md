均值編碼

    data = pd.concat([df[:train_num], train_Y], axis=1)
    for c in df.columns:
        mean_df = data.groupby([c])['Survived'].mean().reset_index()
        mean_df.columns = [c, f'{c}_mean']
        data = pd.merge(data, mean_df, on=c, how='left')
        data = data.drop([c] , axis=1)
    data = data.drop(['Survived'] , axis=1)
    estimator = LogisticRegression()
    start = time.time()
    print(f'shape : {X.shape}')
    print(f'score : {cross_val_score(estimator, data, train_Y, cv=5).mean()}')
    print(f'time : {time.time() - start} sec')
    
    這一段 code 因為 ticket_mean, name_mean 項目太多，每一個都被標籤了 target, 自然是 overfitting.
    留意的是，我們的 cross_val_score 用在 training data，所以效果都是好的。(?)
    還有, meanvalueencoding 算不算洩漏 target???
