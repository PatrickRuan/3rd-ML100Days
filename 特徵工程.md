均值編碼

    data = pd.concat([df[:train_num], train_Y], axis=1)
    for c in df.columns:
        mean_df = data.groupby([c])['Survived'].mean().reset_index()
        mean_df.columns = [c, f'{c}_mean']
        data = pd.merge(data, mean_df, on=c, how='left')
        data = data.drop([c] , axis=1)
    data = data.drop(['Survived'] , axis=1)
    estimator = LogisticRegression()
    start = time.time()
    print(f'shape : {X.shape}')
    print(f'score : {cross_val_score(estimator, data, train_Y, cv=5).mean()}')
    print(f'time : {time.time() - start} sec')
